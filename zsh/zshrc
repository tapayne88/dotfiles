# ============================== Loading ==============================
# Loads different file for each environment, also setting variables
if [ -f ~/.zshrc_work ]; then
    echo 'At work...'
    export LOCATION='work'
    source ~/.zshrc_work
fi

if [ -f ~/.zshrc_home ]; then
    echo 'At home...'
    export LOCATION='home'
    source ~/.zshrc_home
fi

# Setup DEFAULT_USER for the theme
USER=`whoami`
if [ $USER = 'tapayne88' ] ||
   [ $USER = 'tapayne' ] ||
   [ $USER = 'tpayne' ] ||
   [ $USER = 'payneth' ]; then
    DEFAULT_USER=$USER
fi

# Path to your oh-my-zsh configuration.
ZSH=$HOME/.oh-my-zsh

# Disables scroll lock shortcut (Ctrl+s)
stty -ixon

KEYTIMEOUT=1

plugins=(git command-not-found tpayne-vi-mode)

# Setup special theme for ssh session, no special characters
if [ -n "$SSH_CLIENT" ] || [ -n "$SSH_TTY" ]; then
    ZSH_THEME="tpayne-simple"
else
    ZSH_THEME="tpayne"

    # If I am on a mac I will just use iTerm tabs
    if [ `uname` != "Darwin" ]; then
        MYTMUX=`which tmux`
        # Start tmux at start of each session (only when local and tmux exists)
        if [[ $MYTMUX != "tmux not found" && $TERM != "screen" && -z "$TMUX" ]]; then
            tmux > /dev/null 2>&1
        fi
    fi
fi

# Load oh-my-zsh and config (oh-my-zsh first!)
source $ZSH/oh-my-zsh.sh
source $HOME/.config/zsh/environment.zsh
source $HOME/.config/zsh/aliases.zsh
source $HOME/.config/zsh/functions.zsh
