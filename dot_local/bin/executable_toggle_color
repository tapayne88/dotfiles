#!/usr/bin/env bash

THEME_FNAME="$XDG_CONFIG_HOME/.term_theme"
THEME=$(cat $THEME_FNAME)

if [ "$THEME" = "nord" ]; then
  THEME="tokyonight_day"
  export BAT_THEME="base16"
else
  THEME="nord"
  export BAT_THEME="Nord"
fi

echo $THEME > $THEME_FNAME
kitty @ --to $KITTY_LISTEN_ON set-colors "~/.config/kitty/colors/$THEME.conf"
tmux setenv THEME $THEME
tmux source-file ~/.tmux.conf
